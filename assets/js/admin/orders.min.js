"use strict";jQuery(document).ready(function(c){var a=Boolean(wc_facebook_commerce_orders.is_commerce_order),r=c('form[id="post"]'),n=c("#order_status"),m=n.val();function _(o){unBlockModal(),c(".facebook-for-woocommerce-modal .wc-backbone-modal-content article").html("<p>"+o+"</p>"),c(".facebook-for-woocommerce-modal .wc-backbone-modal-content footer").remove()}r.on("submit",function(o){if(!c("#post").data("skip-cancel-modal")&&"wc-cancelled"!==m&&a&&"wc-cancelled"===c("#order_status").val())return o.preventDefault(),c("#wc-backbone-modal-dialog .modal-close").trigger("click"),new c.WCBackboneModal.View({target:"facebook-for-woocommerce-modal",string:{message:wc_facebook_commerce_orders.cancel_modal_message,buttons:wc_facebook_commerce_orders.cancel_modal_buttons}}),c(".facebook-for-woocommerce-modal #btn-ok").off("click.facebook_for_commerce").on("click.facebook_for_commerce",function(o){o.preventDefault(),o.stopPropagation(),blockModal(),c.post(ajaxurl,{action:wc_facebook_commerce_orders.cancel_order_action,order_id:c("#post_ID").val(),reason_code:c('.facebook-for-woocommerce-modal [name="wc_facebook_cancel_reason"]').val(),security:wc_facebook_commerce_orders.cancel_order_nonce},function(o){o&&o.success?c("#post").data("skip-cancel-modal",!0).trigger("submit"):_(o&&o.data?o.data:wc_facebook_commerce_orders.i18n.unknown_error)}).fail(function(){_(wc_facebook_commerce_orders.i18n.unknown_error)})}),!1;if(a&&!r.data("allow-submit")){var e=n.val();"wc-refunded"===e&&m!==e&&(o.preventDefault(),c("#wc-backbone-modal-dialog .modal-close").trigger("click"),new c.WCBackboneModal.View({target:"facebook-for-woocommerce-modal",string:{message:wc_facebook_commerce_orders.refund_modal_message,buttons:wc_facebook_commerce_orders.refund_modal_buttons}}),c(document.body).off("wc_backbone_modal_response.facebook_for_commerce").on("wc_backbone_modal_response.facebook_for_commerce",function(){c("#refund_reason").val(c("#wc_facebook_refund_reason_modal").val()),r.data("allow-submit",!0).submit()}))}})});
//# sourceMappingURL=orders.min.js.map
