"use strict";var _createClass=function(){function c(e,o){for(var t=0;t<o.length;t++){var c=o[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,o,t){return o&&c(e.prototype,o),t&&c(e,t),e}}();function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}jQuery(document).ready(function(a){function c(e,o){var t=this;_classCallCheck(this,c),this.categories=e,this.input_id=o,a('<div id="wc-facebook-google-product-category-fields"></div>').insertBefore(a("#"+this.input_id)).on("change","select.wc-facebook-google-product-category-select",function(e){t.onChange(a(e.target))}),this.addSelect(this.getOptions()),this.addSelect({})}window.WC_Facebook_Google_Product_Category_Fields=(_createClass(c,[{key:"onChange",value:function(e){e.hasClass("locked")&&e.closest(".wc-facebook-google-product-category-field").nextAll().remove();var o=e.val();a("#"+this.input_id).val(o);var t=this.getOptions(o);Object.keys(t).length&&this.addSelect(t)}},{key:"addSelect",value:function(o){var e=a("#wc-facebook-google-product-category-fields"),t=e.find(".wc-facebook-google-product-category-select"),c=a('<select class="wc-enhanced-select wc-facebook-google-product-category-select"></select>');t.addClass("locked"),e.append(a('<div class="wc-facebook-google-product-category-field" style="margin-bottom: 16px">').append(c)),c.attr("data-placeholder",this.getSelectPlaceholder(t,o)).append(a('<option value=""></option>')),Object.keys(o).forEach(function(e){c.append(a('<option value="'+e+'">'+o[e]+"</option>"))}),c.select2()}},{key:"getSelectPlaceholder",value:function(e,o){return 0===e.length?facebook_for_woocommerce_google_product_category.i18n.top_level_dropdown_placeholder:1===e.length&&0===Object.keys(o).length?facebook_for_woocommerce_google_product_category.i18n.second_level_empty_dropdown_placeholder:facebook_for_woocommerce_google_product_category.i18n.general_dropdown_placeholder}},{key:"getOptions",value:function(e){return void 0===e?this.getTopLevelOptions():void 0===this.categories[e]||void 0===this.categories[e].options?[]:this.categories[e].options}},{key:"getTopLevelOptions",value:function(){var o=this,t={};return Object.keys(this.categories).forEach(function(e){o.categories[e].parent||(t[e]=o.categories[e].label)}),t}}]),c)});
//# sourceMappingURL=google-product-category-fields.min.js.map
